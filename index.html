<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vibe Check-In</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React and Babel for single-file execution -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @keyframes pulse-slow {
            0%, 100% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.05); }
        }
        .animate-pulse-slow {
            animation: pulse-slow 4s infinite ease-in-out;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const QUESTION_CATEGORIES = {
            ICEBREAKERS: {
                icon: "coffee",
                label: "Icebreakers",
                questions: [
                    "If you were a vegetable, what would you be and why?",
                    "What is your go-to karaoke song?",
                    "What's the most 'random' thing in your workspace right now?",
                    "If you could have any superpower for just one hour, what would it be?",
                    "What's the best cereal of all time?",
                    "If you were a professional wrestler, what would your entrance theme be?",
                    "What's the most useless talent you have?",
                    "If you had to change your name, what would you change it to?",
                    "Which fictional character would you want as your roommate?",
                    "What's your most controversial food opinion?",
                    "Whatâ€™s the weirdest food combination you actually enjoy?",
                    "If you could be any animal for a day, which one are you picking?",
                    "Whatâ€™s the most embarrassing fashion trend you ever followed?",
                    "If you were famous, what would you be famous for?",
                    "What is your absolute favorite smell?",
                    "If you could only use one emoji for the rest of your life, which one is it?",
                    "Whatâ€™s the best topping for a pizza (wrong answers only)?",
                    "What is the most 'dad' thing you do?",
                    "If you were a ghost, where would you haunt?",
                    "What is your favorite board game of all time?",
                    "If you could win an Olympic medal for any mundane task, what would it be?",
                    "Whatâ€™s the first thing youâ€™d buy if you won $1,000 today?",
                    "Which celebrity would you want to narrate your life?",
                    "What is the most ridiculous outfit youâ€™ve ever worn?",
                    "If you had to live in a video game, which one would it be?",
                    "What is your secret 'guilty pleasure' movie?",
                    "If you could talk to one species of animal, which would it be?",
                    "Whatâ€™s the best dessert youâ€™ve ever had?",
                    "What is a nickname you had as a kid?",
                    "If you could be any age forever, what age would it be?"
                ]
            },
            REFLECTIVE: {
                icon: "heart",
                label: "Reflective",
                questions: [
                    "What is a 'small win' you had today?",
                    "What is the highlight of your week so far?",
                    "What's one thing you're grateful for right now?",
                    "Whatâ€™s the best piece of advice youâ€™ve ever received?",
                    "What is a habit you're trying to build lately?",
                    "If you could give your younger self one piece of advice, what would it be?",
                    "What made you smile in the last 24 hours?",
                    "What is something you're looking forward to this weekend?",
                    "Who is someone you've been thinking about recently?",
                    "What's a lesson you learned the hard way recently?",
                    "Whatâ€™s a book or movie that changed the way you think?",
                    "What is something youâ€™ve done recently that youâ€™re proud of?",
                    "When was the last time you felt truly inspired?",
                    "Whatâ€™s a tradition youâ€™ve kept since childhood?",
                    "What does your perfect 'recharge' day look like?",
                    "What is a personality trait you really value in others?",
                    "Whatâ€™s a fear youâ€™ve overcome recently?",
                    "Whatâ€™s something youâ€™ve learned about yourself this year?",
                    "What is the most beautiful place you have ever been?",
                    "How do you usually handle a stressful day?",
                    "Whatâ€™s a compliment you received that stuck with you?",
                    "What is your favorite memory from the last year?",
                    "Whatâ€™s something youâ€™re currently working on improving?",
                    "What does 'success' mean to you personally?",
                    "Whatâ€™s a hobby that makes you lose track of time?",
                    "Who has been the biggest influence on your life?",
                    "What is one thing you want to be remembered for?",
                    "Whatâ€™s a 'life hack' that actually works for you?",
                    "What is the most important lesson youâ€™ve learned this month?",
                    "If you could change one thing about the world, what would it be?"
                ]
            },
            IMAGINATIVE: {
                icon: "lightbulb",
                label: "Imaginative",
                questions: [
                    "If you could live in any era for one week, which would it be?",
                    "If you could start a cult, what would its central theme be?",
                    "If animals could talk, which one would be the rudest?",
                    "What would the title of your autobiography be?",
                    "If you could swap lives with anyone for a day, who would it be?",
                    "If you discovered a new planet, what would you name it?",
                    "What would your dream house look like if money was no object?",
                    "If you could teleport to one place right now, where would it be?",
                    "What's a business idea you've had but never acted on?",
                    "If you could only eat one cuisine for the rest of your life, what is it?",
                    "If you could build a robot to do one task, what would it be?",
                    "If you were a flavor of ice cream, what would you be?",
                    "If you could bring any historical figure to 2024, who would it be?",
                    "What would you do if you found a genie in a lamp today?",
                    "If you could design a new holiday, what would it celebrate?",
                    "If you could have a dinner party with three fictional characters, who are they?",
                    "If you could see 10 years into your own future, would you?",
                    "What would be the first thing youâ€™d do if you were invisible?",
                    "If you could create a new color, what would you call it?",
                    "If you could master any musical instrument instantly, which one?",
                    "If you were the ruler of a small island, what would be your first law?",
                    "What would you do if you woke up with $1 million but couldn't spend it on yourself?",
                    "If you could turn any activity into an Olympic sport, what would you win at?",
                    "What would the world be like if we didn't have to sleep?",
                    "If you could live in any movie universe, which one would it be?",
                    "If you could pause time for one hour every day, how would you use it?",
                    "What would you name your own private theme park?",
                    "If you were a superhero, what would your secret hideout look like?",
                    "If you could have the answer to any one mystery, what would it be?",
                    "If you were a mythical creature, which one would you be?"
                ]
            },
            WORK_VIBES: {
                icon: "zap",
                label: "Work Vibes",
                questions: [
                    "What is your 'deep work' playlist right now?",
                    "What's your favorite way to spend your lunch break?",
                    "If you could skip one part of your daily routine, what would it be?",
                    "What's your favorite Slack emoji or reaction?",
                    "Which coworker would most likely survive a zombie apocalypse?",
                    "Whatâ€™s your favorite thing about your current setup?",
                    "What's the first thing you do when you log off for the day?",
                    "What is a skill you'd love to learn if you had the time?",
                    "How do you take your coffee or tea?",
                    "What's your favorite productivity 'hack'?",
                    "Whatâ€™s your favorite background noise for focusing?",
                    "If you could move your office to anywhere in the world, where would it be?",
                    "Whatâ€™s the best team-building activity youâ€™ve ever done?",
                    "What is your 'uniform' when working from home?",
                    "What is one thing youâ€™re a total 'expert' on at work?",
                    "Whatâ€™s your favorite way to celebrate a project finishing?",
                    "If our team was a sitcom, what would it be called?",
                    "What is the most useful tool in your digital toolbox?",
                    "Whatâ€™s a 'hidden gem' software or app you use?",
                    "What is the most interesting thing youâ€™ve learned at work lately?",
                    "How do you stay motivated on a Tuesday afternoon?",
                    "Whatâ€™s your favorite way to start your Monday morning?",
                    "If you could give everyone on the team a gift, what would it be?",
                    "Whatâ€™s your favorite way to brainstorm new ideas?",
                    "What is your 'go-to' snack during a long meeting?",
                    "What's the best work-related book you've read?",
                    "If you could swap jobs with any coworker for a day, who would it be?",
                    "What is the funniest thing thatâ€™s happened on a video call?",
                    "Whatâ€™s one thing you appreciate about your team right now?",
                    "What is your ideal 'end of work' ritual?"
                ]
            }
        };

        const Icon = ({ name, className }) => {
            useEffect(() => {
                if (window.lucide) {
                    window.lucide.createIcons();
                }
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const App = () => {
            const [activeCategory, setActiveCategory] = useState('ICEBREAKERS');
            const [currentQuestion, setCurrentQuestion] = useState("");
            const [isAnimating, setIsAnimating] = useState(false);
            const [copyStatus, setCopyStatus] = useState("Share Question");

            const getRandomQuestion = (category) => {
                const list = QUESTION_CATEGORIES[category].questions;
                let newQuestion = list[Math.floor(Math.random() * list.length)];
                // Avoiding immediate repeats
                if (newQuestion === currentQuestion && list.length > 1) {
                    return getRandomQuestion(category);
                }
                return newQuestion;
            };

            const handleNewQuestion = () => {
                setIsAnimating(true);
                setTimeout(() => {
                    setCurrentQuestion(getRandomQuestion(activeCategory));
                    setIsAnimating(false);
                }, 300);
            };

            const handleShare = () => {
                const textToCopy = `Vibe Check! ðŸŽ²\n\nQuestion: "${currentQuestion}"\n\n(Shared from VibeCheck App)`;
                const textArea = document.createElement("textarea");
                textArea.value = textToCopy;
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    setCopyStatus("Copied! âœ¨");
                    setTimeout(() => setCopyStatus("Share Question"), 2000);
                } catch (err) {
                    setCopyStatus("Failed to copy");
                }
                document.body.removeChild(textArea);
            };

            useEffect(() => {
                setCurrentQuestion(getRandomQuestion('ICEBREAKERS'));
                if (window.lucide) window.lucide.createIcons();
            }, []);

            return (
                <div className="min-h-screen bg-slate-50 flex flex-col items-center justify-center p-4 sm:p-8 font-sans overflow-hidden">
                    {/* Background decoration */}
                    <div className="fixed top-0 left-0 w-full h-full overflow-hidden -z-10 pointer-events-none">
                        <div className="absolute top-[-10%] left-[-10%] w-[40%] h-[40%] bg-indigo-200 rounded-full blur-3xl opacity-50 animate-pulse-slow"></div>
                        <div className="absolute bottom-[-10%] right-[-10%] w-[40%] h-[40%] bg-rose-200 rounded-full blur-3xl opacity-50 animate-pulse-slow" style={{ animationDelay: '1s' }}></div>
                    </div>

                    <header className="text-center mb-8 relative z-10">
                        <div className="inline-flex items-center gap-2 bg-white px-4 py-2 rounded-full shadow-sm mb-4 border border-slate-100">
                            <Icon name="sparkles" className="w-4 h-4 text-indigo-500" />
                            <span className="font-bold text-slate-700 uppercase tracking-wider text-[10px] sm:text-xs">Daily Vibe Check</span>
                        </div>
                        <h1 className="text-3xl sm:text-4xl font-extrabold text-slate-900 tracking-tight">How's the team?</h1>
                        <p className="text-slate-500 mt-2 max-w-xs mx-auto text-sm sm:text-base">Pick a category and share a thought to get the conversation started.</p>
                    </header>

                    <div className="flex flex-wrap justify-center gap-2 mb-8 w-full max-w-2xl relative z-10">
                        {Object.entries(QUESTION_CATEGORIES).map(([key, data]) => (
                            <button
                                key={key}
                                onClick={() => {
                                    setActiveCategory(key);
                                    // Set a question from the new category immediately
                                    setCurrentQuestion(getRandomQuestion(key));
                                }}
                                className={`flex items-center gap-2 px-4 py-2 rounded-xl text-sm font-semibold transition-all ${
                                    activeCategory === key 
                                        ? 'bg-indigo-600 text-white shadow-lg shadow-indigo-200 scale-105' 
                                        : 'bg-white text-slate-600 hover:bg-slate-100 border border-slate-200'
                                }`}
                            >
                                <Icon name={data.icon} className="w-4 h-4" />
                                {data.label}
                            </button>
                        ))}
                    </div>

                    <div className="w-full max-w-md relative z-10 group">
                        <div className="absolute -inset-1 bg-gradient-to-r from-indigo-500 to-rose-500 rounded-3xl blur opacity-25 group-hover:opacity-40 transition duration-1000"></div>
                        
                        <div className="relative bg-white rounded-3xl shadow-xl overflow-hidden flex flex-col min-h-[320px]">
                            <div className="p-8 flex-grow flex items-center justify-center text-center">
                                <h2 className={`text-2xl sm:text-3xl font-bold text-slate-800 leading-tight transition-all duration-300 ${isAnimating ? 'opacity-0 scale-95' : 'opacity-100 scale-100'}`}>
                                    {currentQuestion}
                                </h2>
                            </div>

                            <div className="p-6 bg-slate-50 flex flex-col gap-3">
                                <button
                                    onClick={handleNewQuestion}
                                    disabled={isAnimating}
                                    className="w-full py-4 bg-slate-900 text-white rounded-2xl font-bold flex items-center justify-center gap-2 hover:bg-black active:scale-[0.98] transition-all disabled:opacity-50"
                                >
                                    <Icon name="shuffle" className={`w-5 h-5 ${isAnimating ? 'animate-spin' : ''}`} />
                                    Next Question
                                </button>
                                
                                <button
                                    onClick={handleShare}
                                    className="w-full py-3 bg-white border-2 border-slate-200 text-slate-700 rounded-2xl font-bold flex items-center justify-center gap-2 hover:border-slate-300 hover:bg-slate-100 active:scale-[0.98] transition-all"
                                >
                                    <Icon name="share-2" className="w-4 h-4" />
                                    {copyStatus}
                                </button>
                            </div>
                        </div>
                    </div>

                    <footer className="mt-12 text-slate-400 text-sm flex items-center gap-2 relative z-10">
                        <div className="w-2 h-2 bg-green-400 rounded-full animate-pulse"></div>
                        {QUESTION_CATEGORIES[activeCategory].questions.length} Questions in this Category
                    </footer>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
